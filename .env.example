# =========================
# PaperTrading Platform
# Environment Configuration
# =========================
# Copia questo file in .env e inserisci i tuoi valori

# =========================
# Application Settings
# =========================
APP_NAME=PaperTrading Platform
APP_ENV=development
DEBUG=true
SECRET_KEY=your-super-secret-key-change-this-in-production
API_V1_PREFIX=/api/v1

# =========================
# Server Configuration
# =========================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_URL=http://localhost:5173
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# =========================
# Database - PostgreSQL
# =========================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=papertrading
POSTGRES_USER=papertrading_user
POSTGRES_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =========================
# Database - TimescaleDB (for time-series data)
# =========================
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5433
TIMESCALE_DB=papertrading_ts
TIMESCALE_USER=papertrading_user
TIMESCALE_PASSWORD=your_secure_password_here

# =========================
# Redis
# =========================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# =========================
# JWT Authentication
# =========================
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =========================
# DATA PROVIDERS - API KEYS
# =========================

# --- US Market Primary ---
# Alpaca Markets (WebSocket streaming per US stocks)
# Get key at: https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key
ALPACA_SECRET_KEY=your_alpaca_secret_key
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Polygon.io (Snapshot endpoint per batch queries)
# Get key at: https://polygon.io/
POLYGON_API_KEY=your_polygon_api_key

# --- Global Coverage ---
# Finnhub (60+ exchanges, REST + WebSocket)
# Get key at: https://finnhub.io/
FINNHUB_API_KEY=your_finnhub_api_key

# Twelve Data (batch fino a 120 simboli)
# Get key at: https://twelvedata.com/
TWELVE_DATA_API_KEY=your_twelve_data_api_key

# --- Historical Data ---
# EODHD (Bulk API per EOD data)
# Get key at: https://eodhd.com/
EODHD_API_KEY=your_eodhd_api_key

# --- Fundamentals ---
# Financial Modeling Prep
# Get key at: https://financialmodelingprep.com/
FMP_API_KEY=your_fmp_api_key

# Alpha Vantage (Technical indicators)
# Get key at: https://www.alphavantage.co/
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key

# --- Additional Providers ---
# Nasdaq Data Link (ex Quandl)
# Get key at: https://data.nasdaq.com/
NASDAQ_DATA_LINK_API_KEY=your_nasdaq_datalink_api_key

# Tiingo
# Get key at: https://www.tiingo.com/
TIINGO_API_KEY=your_tiingo_api_key

# Marketstack
# Get key at: https://marketstack.com/
MARKETSTACK_API_KEY=your_marketstack_api_key

# StockData.org
# Get key at: https://www.stockdata.org/
STOCKDATA_API_KEY=your_stockdata_api_key

# Intrinio
# Get key at: https://intrinio.com/
INTRINIO_API_KEY=your_intrinio_api_key

# --- No API Key Required ---
# yfinance - No key needed (scraping)
# Stooq - No key needed (CSV download)
# Investing.com - No key needed (scraping via investpy)

# =========================
# Rate Limit Settings
# =========================
# Target utilizzo rate limits (default 75% per sicurezza)
RATE_LIMIT_TARGET_PERCENT=75

# Budget giornaliero per provider (override defaults)
# ALPACA_DAILY_BUDGET=200000
# POLYGON_DAILY_BUDGET=5400
# FINNHUB_DAILY_BUDGET=64800
# TWELVE_DATA_DAILY_BUDGET=600
# YFINANCE_DAILY_BUDGET=36000

# =========================
# Scheduler Settings
# =========================
# Intervallo aggiornamento real-time (minuti)
REALTIME_UPDATE_INTERVAL=5

# Timezone per market hours
TIMEZONE=UTC

# =========================
# ML Settings
# =========================
# Path per modelli ML salvati
ML_MODELS_PATH=./ml_models

# Retrain automatico (giorni)
ML_RETRAIN_INTERVAL_DAYS=7

# =========================
# Logging
# =========================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/app.log

# =========================
# Docker Production
# =========================
# Frontend port (default 80 for production)
FRONTEND_PORT=80

# Compose project name
COMPOSE_PROJECT_NAME=papertrading

# =========================
# Feature Flags
# =========================
ENABLE_ML_PREDICTIONS=true
ENABLE_WEBSOCKET_STREAMING=true
ENABLE_PROVIDER_HEALTH_MONITOR=true
